<link href="index.css" rel="stylesheet">
<div id="Loading">
  <section class="jumbotron text-center vertical-center">
    <div class="container">
      <img src="/favicon.svg" width="250px" height="250px" alt="{{__ 'Loading icon'}}"
        style="animation: .75s linear infinite spinner-grow;opacity: 0;">
      <p class="lead text-muted">{{__ 'Loading...'}}</p>
    </div>
  </section>
</div>
<div style="display: none;" id="Main">
  <div class="row">
    <div class="col-sm-2 v-center-if-pc" style="padding: calc(var(--bs-gutter-x)* .5)">
      <p class="text-secondary text-center">{{__ 'rooms list'}}</p>
      <div class="btn-group-auto w-100" role="group" aria-label="Rooms" id="groupRooms">
        <button class="btn btn-outline-secondary" type="button" disabled>
          <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
          <span class="visually-hidden">{{__ 'Loading...'}}</span>
        </button>
      </div></label>
    </div>
    <div class="col-sm-10">
      <div class="text-center pagination-centered">
        <div>
          <p style="margin-bottom:auto"><span class="bi bi-bar-chart-fill text-secondary"
              style="margin:3px"></span><span id="ping" class="text-decoration-line-through">{{__ 'ping'}}</span></p>
          <h3 id="username-label">{{__ 'Username'}}</h3>
        </div>
        <div> <button type="button" class="btn btn-primary disable-btn" id="mute_btn">{{__ 'Mute'}}</button> <button
            type="button" class="btn btn-primary disable-btn" id="onl_btn">{{__ 'Go online'}}</button> <button
            type="button" id="sett_btn" class="btn bi bi-gear-fill"></button> </div>
            <canvas id="self-spectogramm" class="w-100 py-2" style="height: 75px;" height="75"></canvas>
        {{!-- <hr /> --}}
        <p class="text-secondary">{{__ 'users list'}}</p>
        <div class="users row" id="users">
          <div class='text-center'>
            <div class='spinner-border' role='status'> <span class='visually-hidden'>{{__ 'Loading...'}}</span> </div>
          </div>
        </div>
      </div>
    </div>
  </div> <!-- Select Name Modal -->
  <div class="modal fade" id="startup_select" tabindex="-1" aria-modal="true" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5">{{__ 'Welcome!'}}</h1> <button type="button" class="btn-close"
            data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form>
            <div class="mb-3"> <label for="username_startup" class="col-form-label">{{__ 'Select your username:'}}</label> <input type="text" class="form-control" id="username_startup"> </div>
          </form>
        </div>
        <div class="modal-footer"> <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">{{__ 'Close'}}</button> 
        <button type="button" class="btn btn-primary" id="AcceptWelcome" data-bs-dismiss="modal">{{__ 'Save changes'}}</button> </div>
      </div>
    </div>
  </div> <!-- Settings Modal -->
</div>
<div id="Settings" style="display: none;">
  <div class="text-center pagination-centered"><p class="text-secondary">{{__ 'Settings'}}</p></div>
    <div class="row">
      <div class="col-md-4 position-sticky" style="padding: calc(var(--bs-gutter-x)* .5);top: 0;background: rgba(var(--bs-body-bg-rgb),.1);backdrop-filter: blur(4px);">
        <div style="margin-top: 2rem;">
          <nav id="settings-navbar" class="h-100 flex-column align-items-stretch">
            <ul class="nav nav-pills settings-ui">
              <li class="nav-item">
                <a class="nav-link" href="#settings-you">{{__ 'You'}}</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#settings-audio">{{__ 'Audio'}}</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#settings-notifications">{{__ 'Notifications'}}</a>
              </li>
              <li class="nav-item">
                <a class="nav-link text-body-secondary" href="#settings-external">{{__ 'External settings'}}</a>
              </li>
            </ul>
          </nav>
        </div>
      </div>

      <div class="col-md-8" style="padding: calc(var(--bs-gutter-x)* .5);">
        <div data-bs-spy="scroll" data-bs-target="#settings-navbar" data-bs-smooth-scroll="true"
          class="border-if-pc" tabindex="0">
          <h2 id="settings-you">{{__ 'You'}}</h2>
          <div class="mb-3"> <label for="exampleInputEmail1" class="form-label">{{__ 'Username'}}</label> <input
              type="text" class="form-control" id="username"> 
              </div>
              <div class="mb-3">
            <div class="form-check"> <input class="form-check-input" type="checkbox" id="Show_self_spectro">
              <label class="form-check-label" for="Show_self_spectro">{{__ 'Show self spectogram'}}</label>
            </div>
            </div>
          <h2 id="settings-audio">{{__ 'Audio'}}</h2>
          <div class="mb-3"> <label for="rec_length" class="form-label">{{__ 'Record length'}}</label> <input
              type="number" class="form-control" id="rec_length_num" min="30" max="1000"
              onchange="$('#rec_length').val(value)"> <input type="range" class="form-range" min="30" max="1000"
              id="rec_length" onchange="$('#rec_length_num').val(value)"> </div>
          <div class="mb-3"> <label for="microphone_select" class="form-label">{{__ 'Micophone'}}</label> <select
              class="form-select" id="microphone_select" aria-label="Default select example"> </select>
          </div>
          <div class="mb-3"> <label for="speaker_select" class="form-label">{{__ 'Speaker'}}</label> <select
              class="form-select" id="speaker_select" aria-label="Default select example"> </select>
          </div>
          <h2 id="settings-notifications">{{__ 'Notifications'}}</h2>
          <div class="mb-3">
            <div class="form-check"> <input class="form-check-input" type="checkbox" id="Connect_Notifications_check">
              <label class="form-check-label" for="Connect_Notifications_check">{{__ ' Connect Notifications '}}</label>
            </div>
            <div class="form-check"> <input class="form-check-input" type="checkbox" id="disconnect_Notifications_check">
              <label class="form-check-label" for="disconnect_Notifications_check">{{__ 'Disconnect Notifications'}}</label>
            </div>
            <div class="form-check"> <input class="form-check-input" type="checkbox"
                id="mic_disconnect_Notifications_check"> <label class="form-check-label"
                for="mic_disconnect_Notifications_check">{{__ ' Microphone disconnect Notifications '}}</label> </div>
            <div class="form-check"> <input class="form-check-input" type="checkbox" id="height_ping_Notifications_check"
                onchange="$('#height_ping_div').toggle()"> <label class="form-check-label"
                for="height_ping_Notifications_check">{{__ ' Too height ping notification '}}</label>
              <div id="height_ping_div" style="display: none;"> <input type="number" class="form-control"
                  id="height_ping_num" min="30" value="100" max="1000" onchange="$('#height_ping').val(value)"> <input
                  type="range" class="form-range" min="30" value="100" max="1000" id="height_ping"
                  onchange="$('#height_ping_num').val(value)"> </div>
            </div>
          </div>
          <h3 id="settings-external" class="text-body-secondary">{{__ 'External settings'}}</h3>
          <div class="mb-3"> <button class="btn btn-outline-secondary btn-sm w-100" type="button"
              data-bs-toggle="collapse" data-bs-target="#external_sett" aria-expanded="false"
              aria-controls="external_sett">{{__ 'External settings'}}</button>
            <div class="collapse" id="external_sett">
              <div class="card card-body">
                <div class="mb-3"> <button id="clearAll" type="button" class="btn btn-outline-secondary w-100">{{__ 'Clear all voice_chat data'}}</button> </div>
                <div class="mb-3">
                  <div class="form-check"> <input class="form-check-input" type="checkbox" id="Debug_mode"> <label
                      class="form-check-label" for="Debug_mode">{{__ ' Debug mode '}}</label> </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-12 jumbotron text-center position-sticky" style="bottom: 0;background: rgba(var(--bs-body-bg-rgb),.1);backdrop-filter: blur(4px);">
        <div style="margin-bottom: 1rem;">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" id="closeSettings">{{__ 'Close'}}</button>
          <button type="button" class="btn btn-primary" data-bs-dismiss="modal" id="saveSettings">{{__ 'Save changes'}}</button> 
        </div>
      </div>
    </div>
  </div>
</div>
<div> <!-- toast -->
  <div aria-live="polite" aria-atomic="true" class="position-relative"></div>
  <div class="toast-container position-fixed bottom-0 end-0 p-3">
    <div id="notification_toast" class="toast fade show" role="alert" aria-live="assertive" aria-atomic="true">
      <div class="toast-header">
        <div class="me-2" width="20" height="20" role="status">{{__ 'ðŸ‘‹ '}}<span class="visually-hidden">{{__
            'Loading...'}}</span> </div> <strong class="me-auto">{{__ 'System'}}</strong><button type="button"
          class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
      </div>
      <div id="notification_toast_btn" class="toast-body">{{__ ' Hi! It would be great to have a connection with the
        interlocutor! Allow me to
        receive notifications ) '}}<div class="mt-2 pt-2 border-top"> <button type="button"
            class="btn btn-primary btn-sm">{{__
            'Allow'}}</button> </div>
      </div>
    </div>
  </div>
  <script>var langpromize = fetch('{{getLocale}}.json')</script>
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.1.2/socket.io.js"
    integrity="sha512-iZIBSs+gDyTH0ZhUem9eQ1t4DcEn2B9lHxfRMeGQhyNdSUz+rb+5A3ummX6DQTOIs1XK0gOteOg/LPtSo9VJ+w=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>